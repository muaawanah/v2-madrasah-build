import{y as A,r as f,D as m,m as D,j as N,o as u,b as p,e,u as h,d as _,q as P,p as b,v as w,g as v,t as y,F as k,l as S,h as V,f as C}from"./index-3ce42378.js";import{_ as T}from"./PulseAnimatedBox-68fc1868.js";const j=A("package-store",()=>{const n=f(!1),c=f([]),d=f({});async function g(){n.value=!0;try{const o=await m.get("/api/packages"),{data:t={}}=o;c.value=(t==null?void 0:t.packages)||[]}catch(o){console.log(o)}n.value=!1}async function i(o={}){n.value=!0;try{const t=await m.post("/api/packages",o),{data:s={}}=t;d.value=(s==null?void 0:s.package)||[]}catch(t){console.log(t)}n.value=!1}async function x(o){n.value=!0;try{const t=await m.get("/api/packages/"+o),{data:s={}}=t;d.value=(s==null?void 0:s.package)||[]}catch(t){console.log(t)}n.value=!1}async function r(o={}){n.value=!0;try{const t=await m.put("/api/packages/"+o.id,o),{data:s={}}=t;d.value=(s==null?void 0:s.package)||[]}catch(t){console.log(t)}n.value=!1}return{loader:n,packages:c,singlePackage:d,index:g,create:i,show:x,update:r}}),F={class:"container mx-auto flex flex-col items-center gap-4 mt-4"},L={class:"md:w-[720px] flex flex-col md:gap-1 gap-2 items-center"},q={class:"w-full flex flex-col md:flex-row md:justify-between items-center"},B=e("h2",{class:"text-center text-2xl font-bold"},"Package List",-1),M={key:0},U={class:"flex justify-center"},$=["onSubmit"],z=e("h3",{class:"text-xl font-semibold text-center"},"Add Package",-1),E={class:"flex flex-col gap-2"},G=e("hr",{class:"border-t border-gray-300"},null,-1),H={class:""},J=e("strong",null,"Added by: ",-1),K=e("button",{type:"submit",class:"border border-cyan-600 px-4 rounded text-cyan-600 hover:bg-cyan-600 hover:text-white"}," Save ",-1),O=V('<div class="hidden w-full md:grid grid-cols-8 bg-white text-center rounded shadow divide-x-2 md:p-1 p-2"><p class="col-span-1 px-2"><strong>SL</strong></p><p class="col-span-3 px-2"><strong>Package Name</strong></p><p class="col-span-3 px-2"><strong>Description</strong></p><p class="col-span-1 px-2"><strong>Action</strong></p></div>',1),Q={class:"col-span-1 px-2"},R=e("strong",{class:"md:hidden"},"SL:",-1),W={class:"col-span-3 px-2"},X=e("strong",{class:"md:hidden"},"Package Name:",-1),Y={class:"col-span-3 px-2"},Z=e("strong",{class:"md:hidden"},"Description:",-1),I={class:"flex items-center gap-3 col-span-1 px-4 rounded"},ee=["onClick"],te=e("i",{class:"fad fa-edit text-cyan-600"},null,-1),se=[te],oe=e("div",{class:"w-80 md:w-full flex flex-col items-center mt-8 bg-white p-2 rounded gap-2 shadow"},[e("i",{class:"far fa-exclamation-triangle text-3xl"}),e("h1",{class:"text-xl"},"Caution"),e("div",{class:"text-red-500"},"**The most sensitive area of this software. Use carefully.")],-1),re={__name:"AddPackage",setup(n){const c=j(),d=D(),g=f(!1),i=(s=null)=>{if(o(),s){const l=c.packages.find(a=>a.id===s);l&&(r.value={...l},x.value="update")}g.value=!g.value};N(()=>{c.index(),o()});const x=f("create"),r=f({});function o(){x.value="create",r.value={name:"",description:"",is_active:!0}}async function t(){c[x.value](r.value).then(()=>{c.index(),i()})}return(s,l)=>(u(),p("div",F,[e("div",L,[e("div",q,[B,h(c).loader?_("",!0):(u(),p("div",M,[e("button",{onClick:i,class:"border border-cyan-600 px-4 rounded text-cyan-600 hover:bg-cyan-600 hover:text-white"}," Add new ")]))]),e("div",U,[g.value?(u(),p("form",{key:0,onSubmit:P(t,["prevent"]),class:"absolute flex flex-col gap-2 bg-white rounded-lg p-4 border-gray-300 w-80 md:w-96 shadow-2xl z-50"},[z,e("div",E,[b(e("input",{class:"border-2 border-gray-300 focus:border-2 focus:border-cyan-300 focus:ring focus:ring-cyan-200 focus:ring-opacity-50 rounded block w-full px-2 py-1",type:"Text",required:"",placeholder:"Package Name","onUpdate:modelValue":l[0]||(l[0]=a=>r.value.name=a)},null,512),[[w,r.value.name]]),b(e("textarea",{class:"border-2 border-gray-300 focus:border-2 focus:border-cyan-300 focus:ring focus:ring-cyan-200 focus:ring-opacity-50 rounded block w-full px-2 py-1",type:"Text",required:"",placeholder:"Description","onUpdate:modelValue":l[1]||(l[1]=a=>r.value.description=a)},null,512),[[w,r.value.description]])]),G,e("div",H,[e("div",null,[e("p",null,[J,v(y(h(d).user.name),1)])])]),e("div",{class:"flex gap-2 justify-between"},[e("button",{type:"button",class:"border border-red-600 px-4 rounded text-red-600 hover:bg-red-600 hover:text-white",onClick:i}," Cancel "),K])],40,$)):_("",!0)]),O,h(c).loader?(u(),p(k,{key:0},S(2,a=>C(T,{key:a,class:"w-full mt-1 h-8 min-w-80"})),64)):_("",!0),(u(!0),p(k,null,S(h(c).packages,a=>(u(),p("div",{key:a.id,class:"flex flex-col items-start md:grid md:grid-cols-8 bg-white text-center rounded shadow md:divide-x-2 w-80 md:w-full md:p-1 p-2 md:items-center"},[e("p",Q,[R,v(" "+y(a.id),1)]),e("p",W,[X,v(" "+y(a.name),1)]),e("p",Y,[Z,v(" "+y(a.description),1)]),e("div",I,[e("button",{type:"button",onClick:ae=>i(a.id)},se,8,ee),_("",!0)])]))),128)),oe])]))}};export{re as default};
