import{t as I}from"./bundle-mjs-3a7afad5.js";import{_ as J}from"./PulseAnimatedBox-de17d9a5.js";import{o as x,b as L,H as S,n as M,f as z,F as N,l as W,c as j,I as q,r as a,J as v}from"./index-ca119b07.js";const O={__name:"LoaderWrapper",props:{isLoading:Boolean,class:String,number:{type:Number,default:1}},setup(s){const t=s;return(u,_)=>s.isLoading?(x(),L("div",{key:0,class:M(z(I)(t.class))},[S(u.$slots,"fallback",{},()=>[(x(!0),L(N,null,W(s.number,l=>(x(),j(J,{key:l,class:M(z(I)(t.class))},null,8,["class"]))),128))])],2)):S(u.$slots,"default",{key:1})}},P=q("admission-form",()=>{const s=a(!0),t=a({student_photo:!0,basic_info:!0,father_info:!0,mother_info:!0,guardian_info:!0,present_address_info:!0,permanent_address_info:!0,previous_info:!0,expectation_info:!0}),u=a([]),_=a(""),l=a(""),h=a(""),F=a(""),$=a({link:""}),g=a({name:"",gender:"",blood_group:"",date_of_birth:"",birth_certificate:""}),f=a({name:"",phone:"",occupation:""}),m=a({name:"",phone:"",occupation:""}),o=a({type:"",name:"",phone:"",relation:""}),p=a({division_id:"",district_id:"",area_id:"",postoffice:"",address:""}),d=a({is_same_address:!1,division_id:"",district_id:"",area_id:"",postoffice:"",address:""}),y=a({student_type:"",institute:"",academic_class:"",roll:"",exam:"",result:""}),b=a(""),k=a(""),B=a("");async function A(){s.value=!0;const e=await v.get("/api/adm/admission-forms"),{data:n={}}=e;u.value=n.admission_forms,s.value=!1}function w(e={}){b.value=e.academic_class_id,k.value=e.package_id,B.value=e.application_date,$.value={...e.student_photo},g.value={...e.basic_info},f.value={...e.father_info},m.value={...e.mother_info},o.value={...e.guardian_info},p.value={...e.present_address_info},d.value={...e.permanent_address_info},y.value={...e.previous_info}}async function C(e,n="new"){s.value=!0;const i={academic_session_id:parseInt(e),admission_type:n,basic_info:g.value,father_info:f.value,mother_info:m.value,guardian_info:{type:o.value.type,name:o.value.type==3?o.value.name:o.value.type==2?m.value.name:f.value.name,relation:o.value.type==3?o.value.relation:o.value.type==2?"Mother":"Father",phone:o.value.phone},present_address_info:p.value,permanent_address_info:{is_same_address:d.value.is_same_address,...d.value.is_same_address?p.value:d.value},previous_info:y.value,academic_class_id:parseInt(b.value),package_id:parseInt(k.value)},c=await v.post("/api/adm/admission-forms",i),{data:r={}}=c;return _.value=r.admission_form_id,l.value=r.admission_type,h.value=r.academic_session_id,w(r),s.value=!1,_.value}async function E(e){s.value=!0,t.value={student_photo:!0,basic_info:!0,father_info:!0,mother_info:!0,guardian_info:!0,present_address_info:!0,permanent_address_info:!0,previous_info:!0,expectation_info:!0};const n=await v.get(`/api/adm/admission-forms/${e}`),{data:i={}}=n;_.value=i.admission_form_id,l.value=i.admission_type,h.value=i.academic_session_id,F.value=i.status,w(i),t.value={student_photo:!1,basic_info:!1,father_info:!1,mother_info:!1,guardian_info:!1,present_address_info:!1,permanent_address_info:!1,previous_info:!1,expectation_info:!1},s.value=!1}async function H(e,n,i={}){s.value=!0,t.value[n]=!0;try{const c=await v.put(`/api/adm/admission-forms/${e}`,{[n]:i}),{data:r={}}=c;[n].value={...[n].value,...r[n]}}catch(c){console.log(c)}s.value=!1,t.value[n]=!1}return{loader:s,loaders:t,admission_forms:u,student_photo:$,admission_form_id:_,admission_type:l,academic_session_id:h,basic_info:g,father_info:f,mother_info:m,guardian_info:o,present_address_info:p,permanent_address_info:d,previous_info:y,academic_class_id:b,package_id:k,application_date:B,status:F,dataFormate:w,index:A,store:C,show:E,update:H}});export{O as _,P as u};
