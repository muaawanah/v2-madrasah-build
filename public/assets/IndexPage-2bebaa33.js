import{m as A,o as r,b as i,q as P,t as f,d as h,e,H as j,h as C,f as u,E as F,r as v,j as N,a as D,g as m,w,F as x,l as B,p as y,v as _}from"./index-e8f0b3ba.js";import{_ as $}from"./PulseAnimatedCard-e6fa245f.js";import{u as E}from"./academic-session-cc2d53a7.js";import"./PulseAnimatedBox-405c501b.js";import"./bundle-mjs-3a7afad5.js";const q={class:"flex justify-center z-40"},L={key:0,class:"text-xl font-semibold text-center"},M={class:"grid gap-2"},R=e("hr",{class:"border-t border-gray-300"},null,-1),T={class:""},U=e("strong",null,"Action by: ",-1),z={class:"flex gap-2 justify-between"},H=e("button",{type:"submit",class:"border border-cyan-600 px-4 rounded text-cyan-600 hover:bg-cyan-600 hover:text-white"}," Save ",-1),I={__name:"PopupForm",props:{isPopupVisible:Boolean,title:String,submit:Function,onCancel:Function},setup(c){const o=A();return(b,l)=>{var a,d;return r(),i("div",q,[c.isPopupVisible?(r(),i("form",{key:0,onSubmit:l[1]||(l[1]=P((...s)=>c.submit&&c.submit(...s),["prevent"])),class:"absolute flex flex-col gap-2 bg-white rounded-lg p-4 border-gray-300 w-80 md:w-96 shadow-2xl"},[c.title?(r(),i("h3",L,f(c.title),1)):h("",!0),e("div",M,[j(b.$slots,"default")]),R,e("div",T,[e("div",null,[e("p",null,[U,C(" "+f((d=(a=u(o))==null?void 0:a.user)==null?void 0:d.name),1)])])]),e("div",z,[e("button",{class:"border border-red-600 px-4 rounded text-red-600 hover:bg-red-600 hover:text-white",onClick:l[0]||(l[0]=(...s)=>c.onCancel&&c.onCancel(...s)),type:"button"}," Cancel "),H])],32)):h("",!0)])}}},G={class:"container mx-auto flex flex-col items-center gap-4 mt-4"},J={class:"flex items-center justify-between gap-4"},K=e("h2",{class:"text-center text-2xl font-bold"},"Academic Sessions",-1),O={key:0},Q=e("i",{class:"fal fa-plus-square"},null,-1),W=[Q],X={class:"w-full flex flex-wrap gap-4 justify-center"},Y={key:0,class:"flex justify-center items-center text-red-500 py-6"},Z={class:"flex flex-wrap justify-center items-center gap-2"},ee={class:"md:text-xl font-bold"},te=["onClick"],se=e("i",{class:"fal fa-edit"},null,-1),oe=[se],ne={class:"text-center"},ae={class:"text-center"},fe={__name:"IndexPage",setup(c){const o=E(),b=F(),{departmentId:l}=b.params,a=v(!1),d=v("create"),s=v({});function V(){d.value="create",s.value={name:"",starting:"",ending:"",is_active:!0}}function k(g){var n;if(V(),g){const p=(n=o==null?void 0:o.academic_sessions)==null?void 0:n.find(t=>t.id===g);p&&(s.value={...p},d.value="update")}a.value=!a.value}function S(){o[d.value](l,s.value).then(()=>{o.index(l),k()})}return N(()=>{o.index(l)}),(g,n)=>{const p=D("RouterLink");return r(),i("div",G,[e("div",J,[K,u(o).loader?h("",!0):(r(),i("div",O,[e("button",{type:"button",class:"hover:text-cyan-600",onClick:n[0]||(n[0]=t=>a.value=!a.value)},W)]))]),m(I,{isPopupVisible:a.value,title:"Add Academic Session",submit:S,onCancel:()=>a.value=!a.value},{default:w(()=>[y(e("input",{class:"border-2 border-gray-300 focus:border-2 focus:border-cyan-300 focus:ring focus:ring-cyan-200 focus:ring-opacity-50 rounded block w-full px-2 py-1",type:"Text",required:"",placeholder:"Name","onUpdate:modelValue":n[1]||(n[1]=t=>s.value.name=t)},null,512),[[_,s.value.name]]),y(e("input",{class:"border-2 border-gray-300 focus:border-2 focus:border-cyan-300 focus:ring focus:ring-cyan-200 focus:ring-opacity-50 rounded block w-full px-2 py-1",type:"date",placeholder:"Starting","onUpdate:modelValue":n[2]||(n[2]=t=>s.value.starting=t)},null,512),[[_,s.value.starting]]),y(e("input",{class:"border-2 border-gray-300 focus:border-2 focus:border-cyan-300 focus:ring focus:ring-cyan-200 focus:ring-opacity-50 rounded block w-full px-2 py-1",type:"date",placeholder:"Ending","onUpdate:modelValue":n[3]||(n[3]=t=>s.value.ending=t)},null,512),[[_,s.value.ending]])]),_:1},8,["isPopupVisible","onCancel"]),e("div",X,[u(o).loader?(r(),i(x,{key:0},[m($,{class:"main-card"}),m($,{class:"main-card"})],64)):(r(),i(x,{key:1},[u(o).academic_sessions.length?(r(!0),i(x,{key:1},B(u(o).academic_sessions,t=>(r(),i("div",{key:t.id,class:"main-card"},[e("div",Z,[e("h2",ee,f(t.name),1),e("button",{onClick:re=>k(t.id),class:"hover:text-cyan-600"},oe,8,te)]),e("div",ne,"Starting: "+f(t.starting),1),e("div",ae,"Ending: "+f(t.ending),1),m(p,{to:`/settings/departments/${u(l)}/academic-sessions/${t.id}/academic-classes`,class:"btn-1"},{default:w(()=>[C(" Academic Class ")]),_:2},1032,["to"])]))),128)):(r(),i("div",Y,"No data found!"))],64))])])}}};export{fe as default};
