import{_ as w}from"./PulseAnimatedCard-6364ce9d.js";import{y as $,r as x,D as h,E as S,j,a as N,o as u,b as m,e as i,u as _,F as y,f as g,l as V,d as B,t as C,w as D,g as L}from"./index-e45e1d2a.js";import{u as R}from"./department-class-20f7edb3.js";import"./PulseAnimatedBox-6091b3d2.js";const A=$("academicClass",()=>{const n=x(!1),t=x([]),l=x({}),p=x([]);async function r(c,o){var a;n.value=!0;try{const e=await h.get(`/api/departments/${c}/academic-sessions/${o}/academic-classes`),{data:s={}}=e;t.value=(s==null?void 0:s.academic_classes)||[],p.value=(a=t.value)==null?void 0:a.map(d=>d.department_class_id)}catch(e){console.log(e)}n.value=!1}async function f(c,o){n.value=!0;try{const a=await h.post(`/api/departments/${c}/academic-sessions/${o}/academic-classes`,{department_classes:p.value}),{data:e={}}=a;l.value=(e==null?void 0:e.academic_class)||[]}catch(a){console.log(a)}await r(c,o),n.value=!1}async function v(c,o,a){n.value=!0;try{const e=await h.get(`/api/departments/${c}/academic-sessions/${o}/academic-classes/${a}`),{data:s={}}=e;l.value=(s==null?void 0:s.academic_class)||[]}catch(e){console.log(e)}n.value=!1}return{loader:n,academic_classes:t,department_class_ids:p,academic_class:l,index:r,save:f,show:v}}),E={class:"container mx-auto flex flex-col items-center gap-4 mt-4"},F=i("div",{class:"flex items-center justify-between gap-4"},[i("h2",{class:"text-center text-2xl font-bold"},"Academic Session Classes")],-1),T={class:"w-full flex flex-wrap gap-4 justify-center"},M={key:0,class:"flex justify-center items-center text-red-500 py-6"},O={class:"flex flex-wrap justify-center items-center gap-2"},P={class:"md:text-xl font-bold"},q={class:"w-full max-w-[140px] flex justify-between items-center"},z=["checked","onClick"],G={key:0,class:"flex justify-center items-center p-4 gap-4"},Q={__name:"IndexPage",setup(n){const t=A(),l=R(),p=S(),{departmentId:r,academicSessionId:f}=p.params;function v(){t.save(r,f)}const c=x(!1);function o(a,e){const s=t.department_class_ids.indexOf(e);s!==-1&&t.department_class_ids.splice(s,1),a.target.checked&&t.department_class_ids.push(e),c.value=!0}return j(()=>{t.index(r,f),l.index(r)}),(a,e)=>{const s=N("RouterLink");return u(),m("div",E,[F,i("div",T,[_(t).loader?(u(),m(y,{key:0},[g(w,{class:"main-card"}),g(w,{class:"main-card"})],64)):(u(),m(y,{key:1},[_(l).department_classes.length?(u(!0),m(y,{key:1},V(_(l).department_classes,d=>{var k;return u(),m("div",{key:d.id,class:"main-card"},[i("div",O,[i("h2",P,C(d.name),1)]),i("div",q,[i("input",{type:"checkbox",checked:(k=_(t).department_class_ids)==null?void 0:k.includes(d.id),onClick:b=>o(b,d.id)},null,8,z),g(s,{to:`/settings/departments/${_(r)}/academic-sessions/${_(f)}/academic-classes`,class:"btn-1"},{default:D(()=>[L(" Subjects "+C(d.id),1)]),_:2},1032,["to"])])])}),128)):(u(),m("div",M,"No data found!"))],64))]),c.value?(u(),m("div",G,[i("button",{type:"button",onClick:v,class:"btn-2"},"Save Change")])):B("",!0)])}}};export{Q as default};
