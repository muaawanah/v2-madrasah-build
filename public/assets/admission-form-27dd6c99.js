import{t as B,_ as C}from"./PulseAnimatedBox-3681a83a.js";import{o as $,b as F,E as L,n as S,f as I,F as G,l as H,c as N,G as W,r as a,H as b}from"./index-ec3a0052.js";const D={__name:"LoaderWrapper",props:{isLoading:Boolean,class:String,number:{type:Number,default:1}},setup(n){const t=n;return(d,_)=>n.isLoading?($(),F("div",{key:0,class:S(I(B)(t.class))},[L(d.$slots,"fallback",{},()=>[($(!0),F(G,null,H(n.number,l=>($(),N(C,{key:l,class:S(I(B)(t.class))},null,8,["class"]))),128))])],2)):L(d.$slots,"default",{key:1})}},J=W("admission-form",()=>{const n=a(!0),t=a({student_photo:!0,basic_info:!0,father_info:!0,mother_info:!0,guardian_info:!0,present_address_info:!0,permanent_address_info:!0,previous_info:!0,expectation_info:!0}),d=a([]),_=a(""),l=a(""),k=a(""),w=a({link:""}),p=a({name:"",gender:"",blood_group:"",date_of_birth:"",birth_certificate:""}),c=a({name:"",phone:"",occupation:""}),f=a({name:"",phone:"",occupation:""}),i=a({type:"",name:"",phone:"",relation:""}),m=a({division_id:"",district_id:"",area_id:"",postoffice:"",address:""}),u=a({is_same_address:!1,division_id:"",district_id:"",area_id:"",postoffice:"",address:""}),h=a({student_type:"",institute:"",academic_class:"",roll:"",exam:"",result:""}),g=a(""),y=a(""),x=a("");async function E(){n.value=!0;const r=await b.get("/api/adm/admission-forms"),{data:o={}}=r;d.value=o.admission_forms,n.value=!1}async function M(r,o="new"){n.value=!0;const e={academic_session_id:parseInt(r),admission_type:o,basic_info:p.value,father_info:c.value,mother_info:f.value,guardian_info:{type:i.value.type,name:i.value.type==3?i.value.name:i.value.type==2?f.value.name:c.value.name,relation:i.value.type==3?i.value.relation:i.value.type==2?"Mother":"Father",phone:i.value.phone},present_address_info:m.value,permanent_address_info:{is_same_address:u.value.is_same_address,...u.value.is_same_address?m.value:u.value},previous_info:h.value,academic_class_id:parseInt(g.value),package_id:parseInt(y.value)},v=await b.post("/api/adm/admission-forms",e),{data:s={}}=v;return _.value=s.admission_form_id,l.value=s.admission_type,k.value=s.academic_session_id,g.value=s.academic_class_id,y.value=s.package_id,x.value=s.application_date,w.value={...s.student_photo},p.value={...s.basic_info},c.value={...s.father_info},f.value={...s.mother_info},i.value={...s.guardian_info},m.value={...s.present_address_info},u.value={...s.permanent_address_info},h.value={...s.previous_info},n.value=!1,_.value}async function z(r){n.value=!0,t.value={student_photo:!0,basic_info:!0,father_info:!0,mother_info:!0,guardian_info:!0,present_address_info:!0,permanent_address_info:!0,previous_info:!0,expectation_info:!0};const o=await b.get(`/api/adm/admission-forms/${r}`),{data:e={}}=o;_.value=e.admission_form_id,l.value=e.admission_type,k.value=e.academic_session_id,g.value=e.academic_class_id,y.value=e.package_id,x.value=e.application_date,w.value={...e.student_photo},p.value={...e.basic_info},c.value={...e.father_info},f.value={...e.mother_info},i.value={...e.guardian_info},m.value={...e.present_address_info},u.value={...e.permanent_address_info},h.value={...e.previous_info},t.value={student_photo:!1,basic_info:!1,father_info:!1,mother_info:!1,guardian_info:!1,present_address_info:!1,permanent_address_info:!1,previous_info:!1,expectation_info:!1},n.value=!1}async function A(r,o,e={}){n.value=!0,t.value[o]=!0;try{const v=await b.put(`/api/adm/admission-forms/${r}`,{[o]:e}),{data:s={}}=v;[o].value={...[o].value,...s[o]}}catch(v){console.log(v)}n.value=!1,t.value[o]=!1}return{loader:n,loaders:t,admission_forms:d,student_photo:w,admission_form_id:_,admission_type:l,academic_session_id:k,basic_info:p,father_info:c,mother_info:f,guardian_info:i,present_address_info:m,permanent_address_info:u,previous_info:h,academic_class_id:g,package_id:y,application_date:x,index:E,store:M,show:z,update:A}});export{D as _,J as u};
