import{B as F,r as a,E as _}from"./index-3a756a77.js";const q=F("admission-form",()=>{const o=a(!0),t=a({student_photo:!0,basic_info:!0,father_info:!0,mother_info:!0,guardian_info:!0,present_address_info:!1,permanent_address_info:!1,previous_info:!0,expectation_info:!0}),x=a([]),r=a(""),u=a(""),f=a(""),c=a({link:""}),l=a({name:"",gender:"",blood_group:"",date_of_birth:"",birth_certificate:""}),m=a({name:"",phone:"",occupation:""}),v=a({name:"",phone:"",occupation:""}),p=a({type:"",name:"",phone:"",relation:""}),h=a({division_id:"",district_id:"",area_id:"",postoffice:"",address:""}),g=a({is_same_address:!1,division_id:"",district_id:"",area_id:"",postoffice:"",address:""}),b=a({student_type:"",institute:"",academic_class:"",roll:"",exam:"",result:""}),w=a(""),y=a(""),k=a("");async function $(){o.value=!0;const i=await _.get("/api/adm/admission-forms"),{data:s={}}=i;x.value=s.admission_forms,o.value=!1}async function A(i={}){var n,d,S;const s=await _.post("/api/adm/admission-forms",i),{data:e={}}=s;return r.value=(n=e.admission_form)==null?void 0:n.admission_form_id,u.value=(d=e.admission_form)==null?void 0:d.admission_type,f.value=(S=e.admission_form)==null?void 0:S.academic_session_id,r.value}async function B(i){o.value=!0,t.value={student_photo:!0,basic_info:!0,father_info:!0,mother_info:!0,guardian_info:!0,present_address_info:!1,permanent_address_info:!1,previous_info:!0,expectation_info:!0};const s=await _.get(`/api/adm/admission-forms/${i}`),{data:e={}}=s;r.value=e.admission_form_id,u.value=e.admission_type,f.value=e.academic_session_id,w.value=e.academic_class_id,y.value=e.package_id,k.value=e.application_date,c.value={...c.value,...e.student_photo},l.value={...l.value,...e.basic_info},m.value={...m.value,...e.father_info},v.value={...v.value,...e.mother_info},p.value={...p.value,...e.guardian_info},h.value={...h.value,...e.present_address_info},g.value={...g.value,...e.permanent_address_info},b.value={...b.value,...e.previous_info},t.value={student_photo:!1,basic_info:!1,father_info:!1,mother_info:!1,guardian_info:!1,present_address_info:!1,permanent_address_info:!1,previous_info:!1,expectation_info:!1},o.value=!1}async function E(i,s,e={}){o.value=!0,t.value[s]=!0;try{const n=await _.put(`/api/adm/admission-forms/${i}`,{[s]:e}),{data:d={}}=n[s].value={...[s].value,...d[s]}}catch(n){console.log(n)}o.value=!1,t.value[s]=!1}return{loader:o,loaders:t,admission_forms:x,student_photo:c,admission_form_id:r,admission_type:u,academic_session_id:f,basic_info:l,father_info:m,mother_info:v,guardian_info:p,present_address_info:h,permanent_address_info:g,previous_info:b,academic_class_id:w,package_id:y,application_date:k,index:$,store:A,show:B,update:E}});export{q as u};
