import{C as N,u as F,r as _,j as I,o,b as a,e,t as p,p as r,d as k,q as T,m as C,v as S,g as j,F as x,f as h,l as $,w as q,R as B}from"./index-c9a6bcd2.js";import{u as M,_ as D}from"./department-4b4b4012.js";import{u as R}from"./department-class-08f8473a.js";import"./PulseAnimatedBox-55e31e1a.js";const E={class:"container mx-auto flex flex-col items-center gap-4 mt-4"},L={class:"flex items-center justify-between gap-4"},P={class:"text-center text-2xl font-bold"},U={key:0},z=e("i",{class:"fal fa-plus-square"},null,-1),G=[z],H={class:"flex justify-center z-40"},J=["onSubmit"],K={class:"text-xl font-semibold text-center"},O={class:"flex flex-col gap-2"},Q=e("hr",{class:"border-t border-gray-300"},null,-1),W={class:""},X=e("strong",null,"Added by: ",-1),Y=e("button",{type:"submit",class:"border border-cyan-600 px-4 rounded text-cyan-600 hover:bg-cyan-600 hover:text-white"}," Save ",-1),Z={class:"w-full flex flex-wrap gap-4 justify-center"},ee={key:0,class:"flex justify-center items-center text-red-500 py-6"},te={class:"flex flex-wrap justify-center items-center gap-2"},se={class:"md:text-xl font-bold"},oe=["onClick"],ae=e("i",{class:"fal fa-edit"},null,-1),re=[ae],ne=e("div",{class:"flex flex-col items-center mt-8 bg-white p-2 rounded gap-2 shadow"},[e("i",{class:"far fa-exclamation-triangle text-3xl"}),e("h1",{class:"text-xl"},"Caution"),e("div",{class:"text-red-500"},"**The most sensetive area of this software.")],-1),fe={__name:"AddClass",setup(le){const d=N(),v=M(),t=R(),A=F(),f=_(!1),c=(m=null)=>{if(b(),m){const l=t.department_classes.find(u=>u.id===m);l&&(n.value={...l},i.value="update")}f.value=!f.value};I(()=>{v.show(d.params.departmentId),t.index(d.params.departmentId),b()});const n=_({}),i=_("create");function b(){i.value="create",n.value={name:"",description:"",is_active:!0}}async function V(){t[i.value](d.params.departmentId,n.value).then(()=>{t.index(d.params.departmentId),c()})}return(m,l)=>{var u,y,g,w;return o(),a("div",E,[e("div",L,[e("h2",P," Add Classs of "+p((y=(u=r(v))==null?void 0:u.department)==null?void 0:y.name),1),r(t).loader?k("",!0):(o(),a("div",U,[e("button",{onClick:c,class:"hover:text-cyan-600"},G)]))]),e("div",H,[f.value?(o(),a("form",{key:0,onSubmit:T(V,["prevent"]),class:"absolute flex flex-col gap-2 bg-white rounded-lg p-4 border-gray-300 w-80 md:w-96 shadow-2xl"},[e("h3",K,p(i.value==="create"?"Add":"Edit")+" Department Class ",1),e("div",O,[C(e("input",{class:"border-2 border-gray-300 focus:border-2 focus:border-cyan-300 focus:ring focus:ring-cyan-200 focus:ring-opacity-50 rounded block w-full px-2 py-1",type:"Text",required:"",placeholder:"Name","onUpdate:modelValue":l[0]||(l[0]=s=>n.value.name=s)},null,512),[[S,n.value.name]]),C(e("textarea",{class:"border-2 border-gray-300 focus:border-2 focus:border-cyan-300 focus:ring focus:ring-cyan-200 focus:ring-opacity-50 rounded block w-full px-2 py-1",placeholder:"Description","onUpdate:modelValue":l[1]||(l[1]=s=>n.value.description=s),rows:"10"},null,512),[[S,n.value.description]])]),Q,e("div",W,[e("div",null,[e("p",null,[X,j(" "+p(r(A).user.name),1)])])]),e("div",{class:"flex gap-2 justify-between"},[e("button",{type:"button",class:"border border-red-600 px-4 rounded text-red-600 hover:bg-red-600 hover:text-white",onClick:c}," Cancel "),Y])],40,J)):k("",!0)]),e("div",Z,[r(t).loader?(o(),a(x,{key:0},[h(D,{class:"main-card"}),h(D,{class:"main-card"})],64)):(o(),a(x,{key:1},[(w=(g=r(t))==null?void 0:g.department_classes)!=null&&w.length?(o(!0),a(x,{key:1},$(r(t).department_classes,s=>(o(),a("div",{key:s.id,class:"main-card"},[e("div",te,[e("h2",se,p(s.name),1),e("div",null,[e("button",{onClick:de=>c(s.id),class:"hover:text-cyan-600"},re,8,oe)])]),h(r(B),{to:`/settings/departments/${r(d).params.departmentId}/classes/${s.id}/subjects`,class:"btn-1"},{default:q(()=>[j(" Add Subject ")]),_:2},1032,["to"])]))),128)):(o(),a("div",ee,"No data found!"))],64))]),ne])}}};export{fe as default};
