import{I as E,r as d,i as $,J as U,y as I,E as R,j as q,B as G,o as n,b as r,e as t,q as J,g as k,w,f as i,p as S,G as L,d as m,F as B,l as F,t as a,x as T,v as M}from"./index-8e0a7070.js";import{_ as j}from"./PulseAnimatedWrapper-96ba8716.js";import"./bundle-mjs-3a7afad5.js";const z=E("admission-fee",()=>{const u=d(!0),b=d(!1),g=d(""),p=d(""),s=d(""),v=d(""),_=d(""),h=d(""),e=d(""),l=d({}),f=d([]),y=d([]),N=$(()=>f.value.reduce((x,c)=>x+c.amount-(l.value[c.id]||0),0)),C=$(()=>y.value.reduce((x,c)=>x+c.amount-(l.value[c.id]||0),0));async function A(x){u.value=!0;try{const c=await U.get(`/api/adm/admission-forms/${x}/admission-fee`),{data:o={}}=c;g.value=o.admission_form_id,p.value=o.academic_session_id,s.value=o.academic_class_id,v.value=o.status,_.value=o.student_name,h.value=o.academic_class_name,e.value=o.package_name,l.value=o.concessions??{},y.value=o.monthly_fees??[],f.value=o.annual_fees??[]}catch(c){console.log(c)}u.value=!1}async function D(x,c={}){u.value=!0;try{const o=await U.put(`/api/adm/admission-forms/${x}/admission-fee`,c),{data:V={}}=o;l.value=V.concessions??{},y.value=V.monthly_fees??[],f.value=V.annual_fees??[]}catch(o){console.log(o)}u.value=!1}return{loader:u,editable:b,admission_form_id:g,academic_class_id:s,academic_session_id:p,status:v,student_name:_,academic_class_name:h,package_name:e,concessions:l,annual_fees:f,monthly_fees:y,annual_total:N,monthly_total:C,show:A,update:D}}),H={class:"flex items-center justify-center mt-5"},K={class:"w-full max-w-3xl rounded border bg-white p-4 shadow print:shadow-none print:border-0"},O=["onSubmit"],P=t("h2",{class:"mt-4 mb-2 text-center text-2xl font-bold text-brand-600 print:text-black"}," প্রদেয় ফি নির্ধারণ ",-1),Q={class:"grid gap-x-2 print:grid-cols-3 md:grid-cols-3"},W={class:"col-span-2"},X={class:"flex items-center gap-2"},Y=t("div",{class:"text-gray-500 print:text-black"},"শিক্ষার্থীর নাম:",-1),Z={class:"font-semibold text-gray-700 print:text-black"},tt={class:"flex items-center gap-2"},st=t("div",{class:"text-gray-500 print:text-black"},"ফরম নাম্বার:",-1),et={class:"font-semibold text-gray-700 print:text-black"},it={class:"col-span-2"},ot={class:"flex items-center gap-2"},dt=t("div",{class:"text-gray-500 print:text-black"},"ভর্তিচ্ছু বিভাগ/শ্রেণী:",-1),at={class:"font-semibold text-gray-700 print:text-black"},ct={class:"flex items-center gap-2"},nt=t("div",{class:"text-gray-500 print:text-black"},"শিক্ষার্থীর ধরন:",-1),rt={class:"font-semibold text-gray-700 print:text-black"},lt=t("hr",{class:"print:hidden"},null,-1),pt={class:"flex items-center justify-start print:hidden"},_t={class:"flex items-center gap-2"},xt=t("span",{class:"-mb-0.5"},"ছাড় পরিবর্তন চালু করুন",-1),ut={class:"grid gap-4 print:grid-cols-2 md:grid-cols-2"},mt={class:"flex flex-col"},ht={class:"overflow-x-auto border print:border-black"},bt={class:"inline-block min-w-full align-middle"},gt={class:"overflow-hidden"},vt={class:"min-w-full table-fixed divide-y divide-gray-200 print:divide-black"},ft={class:"bg-gray-300"},yt=t("th",{class:"py-2 px-2 text-left text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm"}," ভর্তিকালীন প্রদেয় ",-1),kt=t("th",{class:"py-2 px-2 text-right text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm"}," নির্ধারিত টাকা ",-1),wt={key:0,class:"py-2 pr-3 text-right text-xs font-bold uppercase tracking-wider text-gray-700 print:hidden print:text-black md:text-sm"},jt={class:"divide-y divide-gray-200 bg-white print:divide-black"},Vt={class:"whitespace-nowrap py-2 px-2 text-left text-xs font-medium text-gray-900 md:text-sm"},St={class:"whitespace-nowrap py-2 px-2 text-right text-xs font-medium text-gray-900 md:text-sm"},$t={class:"flex justify-end gap-2"},Ut={key:0,class:"text-gray-400 print:hidden"},Bt={key:0,class:"pr-1.5 print:hidden"},Ft={class:"flex items-center justify-end"},Mt=["onUpdate:modelValue"],Nt={class:"print:text-black"},Ct={colspan:"2",class:"py-2 px-2 text-right text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm"},At={class:"flex justify-end gap-2"},Dt=t("span",null,"মোট: ",-1),Et={class:"flex flex-col"},It={class:"overflow-x-auto border print:border-black"},Rt={class:"inline-block min-w-full align-middle"},qt={class:"overflow-hidden"},Gt={class:"min-w-full table-fixed divide-y divide-gray-200 print:divide-black"},Jt={class:"bg-gray-300"},Lt=t("th",{class:"py-2 px-2 text-left text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm"}," মাসিক প্রদেয় ",-1),Tt=t("th",{class:"py-2 px-2 text-right text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm"}," নির্ধারিত টাকা ",-1),zt={key:0,class:"py-2 pr-3 text-right text-xs font-bold uppercase tracking-wider text-gray-700 print:hidden print:text-black md:text-sm"},Ht={class:"divide-y divide-gray-200 bg-white print:divide-black"},Kt={class:"whitespace-nowrap py-2 px-2 text-left text-xs font-medium text-gray-900 md:text-sm"},Ot={class:"whitespace-nowrap py-2 px-2 text-right text-xs font-medium text-gray-900 md:text-sm"},Pt={class:"flex justify-end gap-2"},Qt={key:0,class:"text-gray-400 print:hidden"},Wt={key:0,class:"pr-1.5 print:hidden"},Xt={class:"flex items-center justify-end"},Yt=["onUpdate:modelValue"],Zt={class:"print:text-black"},ts={colspan:"2",class:"py-2 px-2 text-right text-xs font-bold uppercase tracking-wider text-gray-700 print:text-black md:text-sm"},ss={class:"flex justify-end gap-2"},es=t("span",null,"মোট: ",-1),is=t("hr",{class:"print:hidden"},null,-1),os={class:"flex items-center justify-between print:hidden"},ds=["href"],as=t("button",{type:"submit",class:"btn-2"},"পরবর্তী ধাপ →",-1),cs=T('<div class="hidden print:block"><h3 class="mt-10 hidden text-center text-2xl font-bold text-brand-600 print:block print:text-black"> অভিভাবকের অঙ্গিকার </h3><div class="whitespace-pre-wrap text-justify"> এই মর্মে অঙ্গিকার করছি যে, <br> ১. আমি অত্র মাদ্ররাসার যাবতীয় নিয়ম-কানুনের প্রতি শ্রদ্ধাশীল থাকব। <br> ২. আমার সন্তানকে যথা সময়ে মাদরাসায় প্রেরণ করব। <br> ৩. নিয়মিত আমার সন্তানের পড়াশোনার খোঁজ-খবর রাখব। <br> ৪. উপরে বর্ণিত ফি সমূহ যথাসময়ে পরিশোধ করব। <br> ৫. মাদরাসার ভবিষ্যৎ নিয়ম-কানুনগুলোর প্রতি বিনা বাক্যে শ্রদ্ধাশীল থাকব। <br><br> জনাব, উপরে বর্ণিত সকল শর্ত মেনে নিয়ে আমি আমার সন্তানকে আপনার প্রতিষ্ঠানে ভর্তি করে নেওয়ার আবেদন করছি। আশা করি আমার আবেদন মহোদয় সমীপে গৃহীত হবে। </div><div class="flex justify-between"><div class="pt-12"><div class="flex items-center gap-2"><div class="text-gray-500 print:text-black">অভিভাবকের নাম:</div><div class="font-semibold text-gray-700 print:text-black"></div></div></div><div class="pt-12"><div class="flex items-center gap-2"><div class="text-gray-500 print:text-black">অভিভাবকের স্বাক্ষর</div><div class="font-semibold text-gray-700 print:text-black"></div></div></div></div></div>',1),ps={__name:"AdmissionFee",setup(u){const b=I(),g=R(),{admissionFormId:p}=g.params,s=z();function v(){s.update(p,{concessions:s.concessions}).then(_=>(console.log(_),b.push(`/adm/application-form/${p}/admission-completion`)))}return q(()=>{s.show(p)}),G(()=>s.status,_=>{if(_===2)return b.replace(`/csm/academic-classes/${s.academic_class_id}/students`)}),(_,h)=>(n(),r("div",H,[t("div",K,[t("form",{class:"space-y-4",onSubmit:J(v,["prevent"])},[P,t("div",Q,[t("div",W,[t("div",X,[Y,k(j,{loader:i(s).loader,class:"w-40"},{default:w(()=>[t("div",Z,a(i(s).student_name),1)]),_:1},8,["loader"])])]),t("div",null,[t("div",tt,[st,k(j,{loader:i(s).loader},{default:w(()=>[t("div",et,a(i(s).admission_form_id),1)]),_:1},8,["loader"])])]),t("div",it,[t("div",ot,[dt,k(j,{loader:i(s).loader,class:"w-28"},{default:w(()=>[t("div",at,a(i(s).academic_class_name),1)]),_:1},8,["loader"])])]),t("div",null,[t("div",ct,[nt,k(j,{loader:i(s).loader},{default:w(()=>[t("div",rt,a(i(s).package_name),1)]),_:1},8,["loader"])])])]),lt,t("div",pt,[t("label",_t,[S(t("input",{class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",type:"checkbox","onUpdate:modelValue":h[0]||(h[0]=e=>i(s).editable=e)},null,512),[[L,i(s).editable]]),xt])]),t("div",ut,[t("div",mt,[t("div",ht,[t("div",bt,[t("div",gt,[t("table",vt,[t("thead",ft,[t("tr",null,[yt,kt,i(s).editable?(n(),r("th",wt," ছাড় ")):m("",!0)])]),t("tbody",jt,[(n(!0),r(B,null,F(i(s).annual_fees,e=>(n(),r("tr",{key:e.id,class:"hover:bg-gray-100"},[t("td",Vt,a(e==null?void 0:e.name),1),t("td",St,[t("div",$t,[i(s).concessions[e.id]?(n(),r("del",Ut,a(e==null?void 0:e.amount),1)):m("",!0),t("span",null,a((e==null?void 0:e.amount)-(i(s).concessions[e.id]||0)),1)])]),i(s).editable?(n(),r("td",Bt,[t("div",Ft,[S(t("input",{class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm block w-14 px-1 py-0.5 text-right",type:"number","onUpdate:modelValue":l=>i(s).concessions[e.id]=l},null,8,Mt),[[M,i(s).concessions[e.id]]])])])):m("",!0)]))),128)),t("tr",Nt,[t("th",Ct,[t("div",At,[Dt,t("span",null,a(i(s).annual_total),1)])])])])])])])])]),t("div",Et,[t("div",It,[t("div",Rt,[t("div",qt,[t("table",Gt,[t("thead",Jt,[t("tr",null,[Lt,Tt,i(s).editable?(n(),r("th",zt," ছাড় ")):m("",!0)])]),t("tbody",Ht,[(n(!0),r(B,null,F(i(s).monthly_fees,e=>(n(),r("tr",{key:e.id,class:"hover:bg-gray-100"},[t("td",Kt,a(e==null?void 0:e.name),1),t("td",Ot,[t("div",Pt,[i(s).concessions[e.id]?(n(),r("del",Qt,a(e==null?void 0:e.amount),1)):m("",!0),t("span",null,a((e==null?void 0:e.amount)-(i(s).concessions[e.id]||0)),1)])]),i(s).editable?(n(),r("td",Wt,[t("div",Xt,[S(t("input",{class:"border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm block w-14 px-1 py-0.5 text-right",type:"number","onUpdate:modelValue":l=>i(s).concessions[e.id]=l},null,8,Yt),[[M,i(s).concessions[e.id]]])])])):m("",!0)]))),128)),t("tr",Zt,[t("th",ts,[t("div",ss,[es,t("span",null,a(i(s).monthly_total),1)])])])])])])])])])]),is,t("div",os,[t("a",{class:"btn-3",href:`/adm/application-form/${i(p)}/admission-test`}," ← পূর্ববর্তী ধাপ ",8,ds),as])],40,O),cs])]))}};export{ps as default};
